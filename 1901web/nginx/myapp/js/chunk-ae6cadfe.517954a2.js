(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae6cadfe"],{3433:function(e,a,s){"use strict";s("a5b3")},a5b3:function(e,a,s){},bb51:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-form"},[s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[e._v("用户登录")]),s("div",[s("el-form",{ref:"myform",attrs:{model:e.formdata,rules:e.rules}},[s("el-form-item",{attrs:{prop:"tbUser.username"}},[s("el-input",{attrs:{placeholder:"登录名"},model:{value:e.formdata.tbUser.username,callback:function(a){e.$set(e.formdata.tbUser,"username",a)},expression:"formdata.tbUser.username"}},[s("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"suffix"},slot:"suffix"})])],1),s("el-form-item",{attrs:{prop:"tbUser.password"}},[s("el-input",{attrs:{type:"password","show-password":"",placeholder:"密码"},model:{value:e.formdata.tbUser.password,callback:function(a){e.$set(e.formdata.tbUser,"password",a)},expression:"formdata.tbUser.password"}},[s("i",{staticClass:"iconfont",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")])])],1),s("el-form-item",{attrs:{prop:"imgcode"}},[s("el-input",{attrs:{placeholder:"图片校验码"},model:{value:e.formdata.imgcode,callback:function(a){e.$set(e.formdata,"imgcode",a)},expression:"formdata.imgcode"}})],1),s("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}]},[s("img",{attrs:{src:e.imgSrc,alt:""},on:{click:e.loadImgCode}}),s("a",{attrs:{href:"javascript:void(0)"},on:{click:e.loadImgCode}},[e._v("点击更换")])]),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),s("el-button",{attrs:{type:"danger"}},[e._v("重填")])],1)],1)],1)])],1)},o=[],r=null,i={name:"Home",data:function(){return{loading:!1,imgLoading:!1,imgSrc:"",formdata:{imgcode:"",tbUser:{username:"",password:""}},rules:{imgcode:[{required:!0,message:"图片校验码必须填写"},{len:5,message:"图片校验码长度是5个"}],"tbUser.username":[{required:!0,message:"用户名必须填写"},{min:3,max:15,message:"用户长度是3-15"}],"tbUser.password":{validator:function(e,a,s){r.$regValidate(e,a,s,/^[A-Za-z0-9]{3,14}$/,"密码是长度为3-14的字符数字和_-")}}}}},methods:{login:function(){this.loading=!0,this.formdata.tbUser.password=this.$md5(this.formdata.tbUser.password),this.$ajax("/user/login",{imgcode:this.formdata.imgcode,tbUser:this.formdata.tbUser},(function(e){this.loading=!1,this.formdata.tbUser.password="",e.success?this.$router.push("/main"):(this.loadImgCode(),this.$message({message:e.message,type:"error",showClose:!0}))}))},loadImgCode:function(){this.imgLoading=!0,this.$ajax("/tools/imageCode",{},(function(e){this.imgLoading=!1,this.imgSrc=e.message}),"get")}},created:function(){r=this,this.loadImgCode()}},d=i,n=(s("3433"),s("2877")),l=Object(n["a"])(d,t,o,!1,null,"2ed03a4d",null);a["default"]=l.exports}}]);